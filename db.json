{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/Anisina/source/fonts/glyphicons-halflings-regular.eot","path":"fonts/glyphicons-halflings-regular.eot","modified":0,"renderable":1},{"_id":"themes/Anisina/source/fonts/glyphicons-halflings-regular.ttf","path":"fonts/glyphicons-halflings-regular.ttf","modified":0,"renderable":1},{"_id":"themes/Anisina/source/fonts/glyphicons-halflings-regular.woff","path":"fonts/glyphicons-halflings-regular.woff","modified":0,"renderable":1},{"_id":"themes/Anisina/source/js/blog.js","path":"js/blog.js","modified":0,"renderable":1},{"_id":"themes/Anisina/source/fonts/glyphicons-halflings-regular.woff2","path":"fonts/glyphicons-halflings-regular.woff2","modified":0,"renderable":1},{"_id":"themes/Anisina/source/js/jquery.tagcloud.js","path":"js/jquery.tagcloud.js","modified":0,"renderable":1},{"_id":"themes/Anisina/source/js/totop.js","path":"js/totop.js","modified":0,"renderable":1},{"_id":"themes/Anisina/source/css/blog-style.css","path":"css/blog-style.css","modified":0,"renderable":1},{"_id":"themes/Anisina/source/css/syntax.styl","path":"css/syntax.styl","modified":0,"renderable":1},{"_id":"themes/Anisina/source/js/bootstrap.min.js","path":"js/bootstrap.min.js","modified":0,"renderable":1},{"_id":"themes/Anisina/source/fonts/glyphicons-halflings-regular.svg","path":"fonts/glyphicons-halflings-regular.svg","modified":0,"renderable":1},{"_id":"themes/Anisina/source/js/jquery.min.js","path":"js/jquery.min.js","modified":0,"renderable":1},{"_id":"themes/Anisina/source/css/bootstrap.min.css","path":"css/bootstrap.min.css","modified":0,"renderable":1},{"_id":"themes/Anisina/source/js/jquery.js","path":"js/jquery.js","modified":0,"renderable":1}],"Cache":[{"_id":"themes/Anisina/_config.yml","hash":"1a6492e8ab3d6f3ab6a374d037dbff2b98a8eb22","modified":1487261672105},{"_id":"themes/Anisina/LICENSE","hash":"2b209f06bebeb2a8c2b7e187e436f3e1e1fbc8a7","modified":1487261672085},{"_id":"themes/Anisina/README.md","hash":"412d514cbc7ba8705faaa614a322c63b48e91550","modified":1487261672085},{"_id":"themes/Anisina/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1487261671892},{"_id":"themes/Anisina/.git/config","hash":"34da9422497bf112885ff69d41ae9b25aa411184","modified":1487261671892},{"_id":"themes/Anisina/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1487261662250},{"_id":"themes/Anisina/package.json","hash":"12541fbf56f785e4f5d486a55b4939f3033f625b","modified":1487261672105},{"_id":"themes/Anisina/.git/index","hash":"630de33680961d6d87dc74a71f5be6c28009dea9","modified":1487261672109},{"_id":"themes/Anisina/.git/packed-refs","hash":"29b93c549b9d89a93b87b0b4ed8f63819330b196","modified":1487261671779},{"_id":"themes/Anisina/Screenshots/mobile-index.jpeg","hash":"cd75f77f5d865d42182e2233e354eeba9f114d98","modified":1487261672085},{"_id":"themes/Anisina/languages_to_be_added/default.yml","hash":"97326c9e6518d9f379778178b3b8f9a58434725d","modified":1487261672105},{"_id":"themes/Anisina/languages_to_be_added/de.yml","hash":"424a9c1e6ab69334d7873f6574da02ca960aa572","modified":1487261672105},{"_id":"themes/Anisina/languages_to_be_added/es.yml","hash":"cb4eeca0ed3768a77e0cd216300f2b2549628b1b","modified":1487261672105},{"_id":"themes/Anisina/languages_to_be_added/en.yml","hash":"97326c9e6518d9f379778178b3b8f9a58434725d","modified":1487261672105},{"_id":"themes/Anisina/languages_to_be_added/no.yml","hash":"8ca475a3b4f8efe6603030f0013aae39668230e1","modified":1487261672105},{"_id":"themes/Anisina/languages_to_be_added/pl.yml","hash":"de7eb5850ae65ba7638e907c805fea90617a988c","modified":1487261672105},{"_id":"themes/Anisina/languages_to_be_added/ru.yml","hash":"42df7afeb7a35dc46d272b7f4fb880a9d9ebcaa5","modified":1487261672105},{"_id":"themes/Anisina/layout/404.ejs","hash":"1fe05722bd1b32bbe0ae4e3e880866f935e0ae11","modified":1487261672105},{"_id":"themes/Anisina/layout/index.ejs","hash":"a94ac678f6b24a46824d45ec058b0ab2105a92c9","modified":1487261672105},{"_id":"themes/Anisina/layout/layout.ejs","hash":"9d3d82a707b107f42db34ef5a8016693da2be742","modified":1487261672105},{"_id":"themes/Anisina/layout/page.ejs","hash":"95bbc74aa6d10cddddd7a5cd5d2a06482f5ea173","modified":1487261672105},{"_id":"themes/Anisina/layout/poetry.ejs","hash":"6c955d419050825e13d39c780d45aceafbf6552d","modified":1487261672105},{"_id":"themes/Anisina/layout/post.ejs","hash":"07a81a2b5c3cdb0692935e4a876219e5a5c645bd","modified":1487261672105},{"_id":"themes/Anisina/layout/tags.ejs","hash":"a144c3b5f4a70f881333e4de392a265469cdb649","modified":1487261672105},{"_id":"themes/Anisina/layout/works.ejs","hash":"1df954e54098cc4845295836374abed870789dcd","modified":1487261672105},{"_id":"themes/Anisina/languages_to_be_added/zh-CN.yml","hash":"7bfcb0b8e97d7e5edcfca8ab26d55d9da2573c1c","modified":1487261672105},{"_id":"themes/Anisina/languages_to_be_added/zh-TW.yml","hash":"9acac6cc4f8002c3fa53ff69fb8cf66c915bd016","modified":1487261672105},{"_id":"themes/Anisina/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1487261662250},{"_id":"themes/Anisina/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1487261662250},{"_id":"themes/Anisina/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1487261662246},{"_id":"themes/Anisina/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1487261662246},{"_id":"themes/Anisina/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1487261662246},{"_id":"themes/Anisina/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1487261662250},{"_id":"themes/Anisina/.git/hooks/pre-rebase.sample","hash":"18be3eb275c1decd3614e139f5a311b75f1b0ab8","modified":1487261662250},{"_id":"themes/Anisina/.git/hooks/prepare-commit-msg.sample","hash":"2b6275eda365cad50d167fe3a387c9bc9fedd54f","modified":1487261662246},{"_id":"themes/Anisina/Screenshots/Anisina.png","hash":"146dd991f55a827a514259e20a51de1e9b07a13d","modified":1487261672085},{"_id":"themes/Anisina/.git/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1487261662250},{"_id":"themes/Anisina/.git/logs/HEAD","hash":"2a7ac4a716b61b1d59ca4630257d411c334abcec","modified":1487261671892},{"_id":"themes/Anisina/layout/_partial/footer.ejs","hash":"3455a3cc578cfbdfc0c4340c768997c8a7f215ca","modified":1487265477902},{"_id":"themes/Anisina/layout/_partial/head.ejs","hash":"4e0d96cac503d4e3a5b254d8b8175c392971ce38","modified":1487261672105},{"_id":"themes/Anisina/layout/_partial/nav.ejs","hash":"3baa41d595e951efa1db34dd1789c6f8d3b094da","modified":1487261672105},{"_id":"themes/Anisina/layout/_partial/pagination.ejs","hash":"557d6bb069a1d48af49ae912994653f44b32a570","modified":1487261672105},{"_id":"themes/Anisina/source/fonts/glyphicons-halflings-regular.eot","hash":"86b6f62b7853e67d3e635f6512a5a5efc58ea3c3","modified":1487261672105},{"_id":"themes/Anisina/source/fonts/glyphicons-halflings-regular.ttf","hash":"44bc1850f570972267b169ae18f1cb06b611ffa2","modified":1487261672105},{"_id":"themes/Anisina/source/fonts/glyphicons-halflings-regular.woff","hash":"278e49a86e634da6f2a02f3b47dd9d2a8f26210f","modified":1487261672105},{"_id":"themes/Anisina/source/js/blog.js","hash":"0f805c744ef8a48c0abdd9d204cfc19ee6cafc14","modified":1487261672109},{"_id":"themes/Anisina/source/fonts/glyphicons-halflings-regular.woff2","hash":"ca35b697d99cae4d1b60f2d60fcd37771987eb07","modified":1487261672105},{"_id":"themes/Anisina/source/js/jquery.tagcloud.js","hash":"4e5fd0b07f3bd935f2e603710447e039e3677211","modified":1487261672109},{"_id":"themes/Anisina/source/js/totop.js","hash":"11ede60fccb7c763d6973f80efc78b47c0843746","modified":1487261672109},{"_id":"themes/Anisina/source/css/blog-style.css","hash":"d064f7fd3b16dabca768a06e9779cbb7ba608ce7","modified":1487261672105},{"_id":"themes/Anisina/source/css/syntax.styl","hash":"f3f9ff0d1ebc4f7fa18d7e367b2ba2f0899adbd4","modified":1487261672105},{"_id":"themes/Anisina/source/js/bootstrap.min.js","hash":"b3f2ef9f985e7906c9360756b73cd64bf7733647","modified":1487261672109},{"_id":"themes/Anisina/Screenshots/poetry-show.png","hash":"f5fdcd25026a87a0aafeebb1f19cdb3c0a81a666","modified":1487261672105},{"_id":"source/_posts/Valentine-s-Day.md","hash":"515ce890daf908ba44f1074bf8a6e8b9d41a2d2c","modified":1487260750457},{"_id":"source/tags/index.md","hash":"8fa1a71f1ed06b30a030a72c38196f529624fd40","modified":1487262186759},{"_id":"themes/Anisina/source/fonts/glyphicons-halflings-regular.svg","hash":"de51a8494180a6db074af2dee2383f0a363c5b08","modified":1487261672105},{"_id":"themes/Anisina/source/js/jquery.min.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1487261672109},{"_id":"themes/Anisina/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1487261662242},{"_id":"themes/Anisina/source/css/bootstrap.min.css","hash":"c5db932e115ff97af7b4512b947cde3ba2964db8","modified":1487261672105},{"_id":"source/_discarded/alentine-s-Day.md","hash":"7bddfe3e5ce1fefc950bde62b8ea589228fe3f84","modified":1487260750457},{"_id":"source/_posts/docker-本地Registry的部署.md","hash":"9beb66382777006fef163412d48b9b0fe129d43b","modified":1487265163169},{"_id":"themes/Anisina/.git/objects/pack/pack-7748caa6d5a212e6d2e52691896c656361c29f51.idx","hash":"93a3a2df9bad126625272b89a9ea7538adce838e","modified":1487261671646},{"_id":"themes/Anisina/Screenshots/mobile-post.jpeg","hash":"2081cdff23a9a8c185a48d9aabcc9dc8e77833ec","modified":1487261672089},{"_id":"themes/Anisina/source/js/jquery.js","hash":"1852661bd11a09ca9b9cb63d1aa6ff390fffaf4e","modified":1487261672109},{"_id":"themes/Anisina/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1487261671779},{"_id":"themes/Anisina/Screenshots/pc-index.png","hash":"b04094dac75cb656b4244c1dfaf246168a0f8926","modified":1487261672093},{"_id":"themes/Anisina/.git/refs/heads/master","hash":"bfc4ecf3268e332f7d5342fb487d82f69ff3de51","modified":1487261671892},{"_id":"themes/Anisina/.git/logs/refs/heads/master","hash":"2a7ac4a716b61b1d59ca4630257d411c334abcec","modified":1487261671892},{"_id":"themes/Anisina/.git/logs/refs/remotes/origin/HEAD","hash":"2a7ac4a716b61b1d59ca4630257d411c334abcec","modified":1487261671892},{"_id":"themes/Anisina/Screenshots/pc-post.png","hash":"cde56c0797b6ff8dd555fb1f8c3f9b21bceaa3be","modified":1487261672101},{"_id":"themes/Anisina/.git/objects/pack/pack-7748caa6d5a212e6d2e52691896c656361c29f51.pack","hash":"8f126c7e530eda1ad3e6586b6a3f44247e400856","modified":1487261671646},{"_id":"public/tags/index.html","hash":"13dfb61a116a7f40cb6631cba9ac9d5868b7d2fc","modified":1487265492253},{"_id":"public/2017/02/17/docker-本地Registry的部署/index.html","hash":"a449074b31f1aebd5f897dd8675dd189f7a11d29","modified":1487265492253},{"_id":"public/2017/02/14/Valentine-s-Day/index.html","hash":"b45bdfa2bd10d80fe97aa60ea630fee3a2582a43","modified":1487265492253},{"_id":"public/archives/index.html","hash":"cedad92ed29dc64b4244e05793c55671c9d21b8b","modified":1487265492253},{"_id":"public/archives/2017/index.html","hash":"28d33472b595af7e5b1d465f9df9ca16d434b0c7","modified":1487265492253},{"_id":"public/archives/2017/02/index.html","hash":"5dfc2f537c6bf1874f0a1b10a9330c9b05b4d958","modified":1487265492254},{"_id":"public/index.html","hash":"7cb20327a4ea9383471252efcf1c1d573d92f962","modified":1487265492254},{"_id":"public/tags/Lover/index.html","hash":"bc282f72d382e7e55209b26152fbaf4852c7b9d2","modified":1487265492254},{"_id":"public/tags/智障/index.html","hash":"05df267a57fde6da3af0f9cfd9dc61966b09afc5","modified":1487265492254},{"_id":"public/tags/docker/index.html","hash":"e0171a3f43260555e1034582560d80acbd4935d9","modified":1487265492254},{"_id":"public/fonts/glyphicons-halflings-regular.eot","hash":"86b6f62b7853e67d3e635f6512a5a5efc58ea3c3","modified":1487264450456},{"_id":"public/fonts/glyphicons-halflings-regular.ttf","hash":"44bc1850f570972267b169ae18f1cb06b611ffa2","modified":1487264450456},{"_id":"public/fonts/glyphicons-halflings-regular.woff","hash":"278e49a86e634da6f2a02f3b47dd9d2a8f26210f","modified":1487264450457},{"_id":"public/fonts/glyphicons-halflings-regular.woff2","hash":"ca35b697d99cae4d1b60f2d60fcd37771987eb07","modified":1487264450457},{"_id":"public/fonts/glyphicons-halflings-regular.svg","hash":"de51a8494180a6db074af2dee2383f0a363c5b08","modified":1487264451646},{"_id":"public/js/blog.js","hash":"0f805c744ef8a48c0abdd9d204cfc19ee6cafc14","modified":1487264451653},{"_id":"public/js/jquery.tagcloud.js","hash":"4e5fd0b07f3bd935f2e603710447e039e3677211","modified":1487264451653},{"_id":"public/css/syntax.css","hash":"4616879fec214c9cc4f5835615348f0bbeabf2a9","modified":1487264451654},{"_id":"public/js/totop.js","hash":"11ede60fccb7c763d6973f80efc78b47c0843746","modified":1487264451654},{"_id":"public/css/blog-style.css","hash":"d064f7fd3b16dabca768a06e9779cbb7ba608ce7","modified":1487264451654},{"_id":"public/js/bootstrap.min.js","hash":"b3f2ef9f985e7906c9360756b73cd64bf7733647","modified":1487264451654},{"_id":"public/js/jquery.min.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1487264451654},{"_id":"public/css/bootstrap.min.css","hash":"c5db932e115ff97af7b4512b947cde3ba2964db8","modified":1487264451654},{"_id":"public/js/jquery.js","hash":"1852661bd11a09ca9b9cb63d1aa6ff390fffaf4e","modified":1487264451654},{"_id":"source/_posts/docker-本地Registry的部署/docker.jpg","hash":"681e91e982bb01c245d328be255c206aac328a27","modified":1487264102482},{"_id":"public/2017/02/17/docker-本地Registry的部署/docker.jpg","hash":"681e91e982bb01c245d328be255c206aac328a27","modified":1487265492256}],"Category":[],"Data":[],"Page":[{"title":"tags","date":"2017-02-16T16:02:29.000Z","layout":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2017-02-17 00:02:29\nlayout: tags\n---\n","updated":"2017-02-16T16:23:06.759Z","path":"tags/index.html","comments":1,"_id":"ciz8mupw60001y4jxhhf2eh7e","content":"","excerpt":"","more":""}],"Post":[{"layout":"post","title":"Valentine's Day","subtitle":"for yumengqian","date":"2017-02-14T05:00:00.000Z","author":"月牙天冲","header-img":"http://olch8050n.bkt.clouddn.com/bac2.jpeg","cdn":"header-off","_content":"\n\nValentine's Day\n===\n\n\n![lover](http://olch8050n.bkt.clouddn.com/bac2.jpeg)\n* 用此文纪念和小于的第一个情人节\n","source":"_posts/Valentine-s-Day.md","raw":"---\nlayout: post\ntitle: Valentine's Day\nsubtitle: \"for yumengqian\"\ndate: 2017-02-14 13:00\nauthor: \"月牙天冲\"\nheader-img: \"http://olch8050n.bkt.clouddn.com/bac2.jpeg\"\ncdn: 'header-off'\ntags:\n\t- Lover\n\t- 智障\n---\n\n\nValentine's Day\n===\n\n\n![lover](http://olch8050n.bkt.clouddn.com/bac2.jpeg)\n* 用此文纪念和小于的第一个情人节\n","slug":"Valentine-s-Day","published":1,"updated":"2017-02-16T15:59:10.457Z","comments":1,"photos":[],"link":"","_id":"ciz8mupw20000y4jxo5dallcr","content":"<h1 id=\"Valentine’s-Day\"><a href=\"#Valentine’s-Day\" class=\"headerlink\" title=\"Valentine’s Day\"></a>Valentine’s Day</h1><p><img src=\"http://olch8050n.bkt.clouddn.com/bac2.jpeg\" alt=\"lover\"></p>\n<ul>\n<li>用此文纪念和小于的第一个情人节</li>\n</ul>\n","excerpt":"","more":"<h1 id=\"Valentine’s-Day\"><a href=\"#Valentine’s-Day\" class=\"headerlink\" title=\"Valentine’s Day\"></a>Valentine’s Day</h1><p><img src=\"http://olch8050n.bkt.clouddn.com/bac2.jpeg\" alt=\"lover\"></p>\n<ul>\n<li>用此文纪念和小于的第一个情人节</li>\n</ul>\n"},{"title":"docker 本地Registry的部署","date":"2017-02-16T16:41:36.000Z","author":"月牙天冲","header-img":"docker.jpg","cdn":"header-off","_content":"\n# 1.本地Registry的部署\n运行下面命令获取registry镜像\n\n```bash\nsudo docker pull registry:2.1.1 # tag版本号随意设置\n```\n\n然后启动一个容器\n```bash\nsudo docker run -d -v /opt/registry:/var/lib/registry -p 5000:5000 --restart=always --name registry registry:2.1.1\n```\n\nRegistry服务默认会将上传的镜像保存在容器的/var/lib/registry，我们将主机的/opt/registry目录挂载到该目录，即可实现将镜像保存到主机的/opt/registry目录了。\n\n运行docker ps 查看容易运行情况\n```bash\ndocker ps\n```\n\n启动了registry服务，打开浏览器输入http://127.0.0.1:5000/v2 ，出现下面情况说明registry运行正常\n```bash\ncurl localhost:5000/v2\n```\n返回{}\n\n# 2.验证\n我的机器上有个hello-world的镜像，我们要通过docker tag将该镜像标志为要推送到私有仓库，\n\n```bash\nsudo docker tag hello-world:1.0.0 127.0.0.1:5000/hello-world:1.0.0\n\nsudo docker push 127.0.0.1:5000/hello-world:1.0.0\n```\n![logo](docker.jpg)\n验证\n```bash\ncurl http://127.0.0.1:5000/v2/_catalog\n```\n返回json\n","source":"_posts/docker-本地Registry的部署.md","raw":"---\ntitle: docker 本地Registry的部署\ndate: 2017-02-17 00:41:36\nauthor: \"月牙天冲\"\nheader-img: \"docker.jpg\"\ncdn: 'header-off'\ntags:\n    - docker\n---\n\n# 1.本地Registry的部署\n运行下面命令获取registry镜像\n\n```bash\nsudo docker pull registry:2.1.1 # tag版本号随意设置\n```\n\n然后启动一个容器\n```bash\nsudo docker run -d -v /opt/registry:/var/lib/registry -p 5000:5000 --restart=always --name registry registry:2.1.1\n```\n\nRegistry服务默认会将上传的镜像保存在容器的/var/lib/registry，我们将主机的/opt/registry目录挂载到该目录，即可实现将镜像保存到主机的/opt/registry目录了。\n\n运行docker ps 查看容易运行情况\n```bash\ndocker ps\n```\n\n启动了registry服务，打开浏览器输入http://127.0.0.1:5000/v2 ，出现下面情况说明registry运行正常\n```bash\ncurl localhost:5000/v2\n```\n返回{}\n\n# 2.验证\n我的机器上有个hello-world的镜像，我们要通过docker tag将该镜像标志为要推送到私有仓库，\n\n```bash\nsudo docker tag hello-world:1.0.0 127.0.0.1:5000/hello-world:1.0.0\n\nsudo docker push 127.0.0.1:5000/hello-world:1.0.0\n```\n![logo](docker.jpg)\n验证\n```bash\ncurl http://127.0.0.1:5000/v2/_catalog\n```\n返回json\n","slug":"docker-本地Registry的部署","published":1,"updated":"2017-02-16T17:12:43.169Z","_id":"ciz8n3s0c0000yxjx9xeixgce","comments":1,"layout":"post","photos":[],"link":"","content":"<h1 id=\"1-本地Registry的部署\"><a href=\"#1-本地Registry的部署\" class=\"headerlink\" title=\"1.本地Registry的部署\"></a>1.本地Registry的部署</h1><p>运行下面命令获取registry镜像</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><div class=\"line\">sudo docker pull registry:2.1.1 <span class=\"comment\"># tag版本号随意设置</span></div></pre></td></tr></table></figure>\n<p>然后启动一个容器<br><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><div class=\"line\">sudo docker run <span class=\"_\">-d</span> -v /opt/registry:/var/lib/registry -p 5000:5000 --restart=always --name registry registry:2.1.1</div></pre></td></tr></table></figure></p>\n<p>Registry服务默认会将上传的镜像保存在容器的/var/lib/registry，我们将主机的/opt/registry目录挂载到该目录，即可实现将镜像保存到主机的/opt/registry目录了。</p>\n<p>运行docker ps 查看容易运行情况<br><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><div class=\"line\">docker ps</div></pre></td></tr></table></figure></p>\n<p>启动了registry服务，打开浏览器输入<a href=\"http://127.0.0.1:5000/v2\" target=\"_blank\" rel=\"external\">http://127.0.0.1:5000/v2</a> ，出现下面情况说明registry运行正常<br><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><div class=\"line\">curl localhost:5000/v2</div></pre></td></tr></table></figure></p>\n<p>返回{}</p>\n<h1 id=\"2-验证\"><a href=\"#2-验证\" class=\"headerlink\" title=\"2.验证\"></a>2.验证</h1><p>我的机器上有个hello-world的镜像，我们要通过docker tag将该镜像标志为要推送到私有仓库，</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><div class=\"line\">sudo docker tag hello-world:1.0.0 127.0.0.1:5000/hello-world:1.0.0</div><div class=\"line\"></div><div class=\"line\">sudo docker push 127.0.0.1:5000/hello-world:1.0.0</div></pre></td></tr></table></figure>\n<p><img src=\"/2017/02/17/docker-本地Registry的部署/\" alt=\"logo\"><br>验证<br><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><div class=\"line\">curl http://127.0.0.1:5000/v2/_catalog</div></pre></td></tr></table></figure></p>\n<p>返回json</p>\n","excerpt":"","more":"<h1 id=\"1-本地Registry的部署\"><a href=\"#1-本地Registry的部署\" class=\"headerlink\" title=\"1.本地Registry的部署\"></a>1.本地Registry的部署</h1><p>运行下面命令获取registry镜像</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><div class=\"line\">sudo docker pull registry:2.1.1 <span class=\"comment\"># tag版本号随意设置</span></div></pre></td></tr></table></figure>\n<p>然后启动一个容器<br><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><div class=\"line\">sudo docker run <span class=\"_\">-d</span> -v /opt/registry:/var/lib/registry -p 5000:5000 --restart=always --name registry registry:2.1.1</div></pre></td></tr></table></figure></p>\n<p>Registry服务默认会将上传的镜像保存在容器的/var/lib/registry，我们将主机的/opt/registry目录挂载到该目录，即可实现将镜像保存到主机的/opt/registry目录了。</p>\n<p>运行docker ps 查看容易运行情况<br><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><div class=\"line\">docker ps</div></pre></td></tr></table></figure></p>\n<p>启动了registry服务，打开浏览器输入<a href=\"http://127.0.0.1:5000/v2\">http://127.0.0.1:5000/v2</a> ，出现下面情况说明registry运行正常<br><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><div class=\"line\">curl localhost:5000/v2</div></pre></td></tr></table></figure></p>\n<p>返回{}</p>\n<h1 id=\"2-验证\"><a href=\"#2-验证\" class=\"headerlink\" title=\"2.验证\"></a>2.验证</h1><p>我的机器上有个hello-world的镜像，我们要通过docker tag将该镜像标志为要推送到私有仓库，</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><div class=\"line\">sudo docker tag hello-world:1.0.0 127.0.0.1:5000/hello-world:1.0.0</div><div class=\"line\"></div><div class=\"line\">sudo docker push 127.0.0.1:5000/hello-world:1.0.0</div></pre></td></tr></table></figure>\n<p><img src=\"/2017/02/17/docker-本地Registry的部署/\" alt=\"logo\"><br>验证<br><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><div class=\"line\">curl http://127.0.0.1:5000/v2/_catalog</div></pre></td></tr></table></figure></p>\n<p>返回json</p>\n"}],"PostAsset":[{"_id":"source/_posts/docker-本地Registry的部署/docker.jpg","slug":"docker.jpg","post":"ciz8n3s0c0000yxjx9xeixgce","modified":0,"renderable":0}],"PostCategory":[],"PostTag":[{"post_id":"ciz8mupw20000y4jxo5dallcr","tag_id":"ciz8mupw90002y4jx7j0extk1","_id":"ciz8mupwc0004y4jxthg4mgaz"},{"post_id":"ciz8mupw20000y4jxo5dallcr","tag_id":"ciz8mupwb0003y4jx2zpxv8ia","_id":"ciz8mupwc0005y4jxi93x5jem"},{"post_id":"ciz8n3s0c0000yxjx9xeixgce","tag_id":"ciz8mupwe0007y4jx55ctw6zg","_id":"ciz8na0ff0002yxjxyzki73rg"}],"Tag":[{"name":"Lover","_id":"ciz8mupw90002y4jx7j0extk1"},{"name":"智障","_id":"ciz8mupwb0003y4jx2zpxv8ia"},{"name":"docker","_id":"ciz8mupwe0007y4jx55ctw6zg"}]}}